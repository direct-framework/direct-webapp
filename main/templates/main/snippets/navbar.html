{% load static %}
<header class="navbar navbar-expand-lg fixed-top bg-light">
    <div class="container">
        <!-- Navbar brand (Logo) -->
        <a class="navbar-brand pe-sm-3" href="{% url 'index' %}">
            <span class="text-primary flex-shrink-0 me-2">
                <img src="{% static 'assets/app-icons/logo.svg' %}"
                     alt="Digital Research Competencies Framework logo"
                     class="arrow ms-2 d-lg-block d-none">
            </span>
            DIRECT Framework
        </a>
        <!-- Theme switcher -->
        <div class="form-check form-switch mode-switch order-lg-2 me-3 me-lg-4 ms-auto"
             data-bs-toggle="mode">
            <input class="form-check-input" type="checkbox" id="theme-mode">
            <label class="form-check-label" for="theme-mode">
                <i class="fa-solid fa-sun fs-lg"></i>
            </label>
            <label class="form-check-label" for="theme-mode">
                <i class="fa-solid fa-moon fs-lg"></i>
            </label>
        </div>
        {% if user.is_authenticated %}
            <form action="{% url 'logout' %}"
                  method="post"
                  class="order-lg-3 d-none d-sm-inline-flex">
                {% csrf_token %}
                <button class="btn btn-primary btn-sm fs-sm" type="submit">
                    <i class="ai-logout fs-xl me-2 ms-n1"></i>
                    Log Out
                </button>
            </form>
        {% else %}
            <a class="btn btn-primary btn-sm fs-sm order-lg-3 d-none d-sm-inline-flex"
               href="{% url 'login' %}">
                <i class="ai-login fs-xl me-2 ms-n1"></i>
                Login
            </a>
        {% endif %}
        <!-- Mobile menu toggler (Hamburger) -->
        <button class="navbar-toggler ms-sm-3"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#navbarNav"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <!-- Navbar collapse (Main navigation) -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <!-- <a class="navbar-brand" href="#">Navbar</a> -->
            <button class="navbar-toggler"
                    type="button"
                    data-toggle="collapse"
                    data-target="#navbarNav"
                    aria-controls="navbarNav"
                    aria-expanded="false"
                    aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            {% with request.resolver_match.url_name as url_name %}
                <ul class="navbar-nav">
                    <li class="nav-item {% if url_name == 'index' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'index' %}">Home</a>
                    </li>
                    <li class="nav-item {% if url_name == 'about' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'about' %}">About</a>
                    </li>
                    <li class="nav-item {% if url_name == 'self-assess' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'self-assess' %}">Self Assessment Questionnaire</a>
                    </li>
                    <li class="nav-item {% if url_name == 'terms' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'terms' %}">Terms & Conditions</a>
                    </li>
                    <li class="nav-item {% if url_name == 'contact' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'contact' %}">Contact</a>
                    </li>
                    <li class="nav-item {% if url_name == 'profile' %}active{% endif %}">
                        <a class="nav-link" href="{% url 'profile' %}">Profile</a>
                    </li>
                    <!-- Add more navigation items as necessary -->
                </ul>
            {% endwith %}
        </nav>
    </div>
</header>
